{% extends 'index.html' %}
{% load static %}

{% block title %}Create Your Fitness Plan{% endblock %}

{% block extra_head %}
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <!-- Custom CSS -->
  <link rel="stylesheet" href="{% static 'workout/css/create-workout.css' %}">
  <link rel="stylesheet" href="{% static 'workout/css/custom.css' %}">

  <!-- Custom JS -->
  <script src="{% static 'workout/js/create-workout.js' %}" defer></script>
{% endblock %}

{% block content %}
  <div
    class="bg-black text-white flex items-center justify-center min-h-screen p-4"
  >
    <div
      class="w-full max-w-3xl bg-gray-900 rounded-2xl shadow-2xl p-8 space-y-8"
    >
      <!-- Header -->
      <div class="text-center">
        <h1 class="text-3xl font-bold text-neon-400
          Create Your Fitness Plan
        </h1>
        <p class="text-gray-400 mt-2">
          Personalize your journey to a healthier you.
        </p>
      </div>

      <!-- Progress Bar -->
      <div class="w-full">
        <div class="flex items-center justify-between mb-2">
          <div id="progress-text" class="text-sm font-medium text-gray-300">
            Step 1 of 5
          </div>
        </div>
        <div class="w-full bg-gray-700 rounded-full h-2.5">
          <div
            id="progress-bar"
            class="bg-neon-500 h-2.5 rounded-full transition-all duration-500"
            style="width: 20%"
          ></div>
        </div>
      </div>

      <!-- Form -->
      <form id="gymForm" class="relative overflow-hidden">
        {% csrf_token %}
        <!-- Step 1: Personal Details -->
        <div id="step-1" class="form-step active">
          <h2 class="text-2xl font-semibold mb-6 text-center">About You</h2>
          <div class="grid md:grid-cols-2 gap-6">
            <div>
              <label
                for="age"
                class="block mb-2 text-sm font-medium text-gray-300"
                >Age</label
              >
              <input
                type="number"
                id="age"
                min="0"
                name="age"
                class="bg-gray-700 border border-gray-600 text-white text-sm rounded-lg block w-full p-2.5 input-focus-neon"
                placeholder="e.g., 25"
                required=""
              />
            </div>
            <div>
              <label class="block mb-2 text-sm font-medium text-gray-300"
                >Gender</label
              >
              <div class="grid grid-cols-3 gap-2 custom-radio">
                <input
                  type="radio"
                  id="male"
                  name="gender"
                  value="male"
                  checked=""
                />
                <label
                  for="male"
                  class="text-center border-2 border-gray-600 rounded-lg p-2.5 cursor-pointer hover:bg-gray-700"
                  >Male</label
                >

                <input type="radio" id="female" name="gender" value="female" />
                <label
                  for="female"
                  class="text-center border-2 border-gray-600 rounded-lg p-2.5 cursor-pointer hover:bg-gray-700"
                  >Female</label
                >

                <input type="radio" id="other" name="gender" value="other" />
                <label
                  for="other"
                  class="text-center border-2 border-gray-600 rounded-lg p-2.5 cursor-pointer hover:bg-gray-700"
                  >Other</label
                >
              </div>
            </div>
            <div>
              <label
                for="height_cm"
                class="block mb-2 text-sm font-medium text-gray-300"
                >Height (cm)</label
              >
              <input
                type="number"
                id="height_cm"
                min="0"
                name="height_cm"
                 class="bg-gray-700 border border-gray-600 text-white text-sm rounded-lg block w-full p-2.5 input-focus-neon"
                placeholder="e.g., 180"
                required=""
              />
            </div>
            <div>
              <label
                for="weight_kg"
                class="block mb-2 text-sm font-medium text-gray-300"
                >Weight (kg)</label
              >
              <input
                type="number"
                id="weight_kg"
                min="0"
                name="weight_kg"
                 class="bg-gray-700 border border-gray-600 text-white text-sm rounded-lg block w-full p-2.5 input-focus-neon"
                placeholder="e.g., 75"
                required=""
              />
            </div>
          </div>
        </div>

        <!-- Step 2: Activity Level & Goals -->
        <div id="step-2" class="form-step hidden">
          <h2 class="text-2xl font-semibold mb-6 text-center">
            Lifestyle &amp; Goals
          </h2>
          <div class="space-y-6">
            <div>
              <label class="block mb-3 text-sm font-medium text-gray-300"
                >Your Daily Activity Level</label
              >
              <div class="grid sm:grid-cols-2 gap-4 custom-radio">
                <input
                  type="radio"
                  id="sedentary"
                  name="activity_level"
                  value="sedentary"
                  checked=""
                />
                <label
                  for="sedentary"
                  class="border-2 border-gray-600 rounded-lg p-3 cursor-pointer hover:bg-gray-700"
                  ><strong>Sedentary</strong
                  ><span class="block text-xs text-gray-400"
                    >Little to no exercise</span
                  ></label
                >

                <input
                  type="radio"
                  id="lightly_active"
                  name="activity_level"
                  value="lightly_active"
                />
                <label
                  for="lightly_active"
                  class="border-2 border-gray-600 rounded-lg p-3 cursor-pointer hover:bg-gray-700"
                  ><strong>Lightly Active</strong
                  ><span class="block text-xs text-gray-400"
                    >Light exercise/sports 1-3 days/week</span
                  ></label
                >

                <input
                  type="radio"
                  id="moderately_active"
                  name="activity_level"
                  value="moderately_active"
                />
                <label
                  for="moderately_active"
                  class="border-2 border-gray-600 rounded-lg p-3 cursor-pointer hover:bg-gray-700"
                  ><strong>Moderately Active</strong
                  ><span class="block text-xs text-gray-400"
                    >Moderate exercise 3-5 days/week</span
                  ></label
                >

                <input
                  type="radio"
                  id="very_active"
                  name="activity_level"
                  value="very_active"
                />
                <label
                  for="very_active"
                  class="border-2 border-gray-600 rounded-lg p-3 cursor-pointer hover:bg-gray-700"
                  ><strong>Very Active</strong
                  ><span class="block text-xs text-gray-400"
                    >Hard exercise 6-7 days a week</span
                  ></label
                >
              </div>
            </div>
            <div>
              <label class="block mb-3 text-sm font-medium text-gray-300"
                >Your Primary Goal</label
              >
              <div class="grid sm:grid-cols-2 gap-4 custom-radio">
                <input
                  type="radio"
                  id="lose_weight"
                  name="goal"
                  value="lose_weight"
                  checked=""
                />
                <label
                  for="lose_weight"
                  class="border-2 border-gray-600 rounded-lg p-3 cursor-pointer hover:bg-gray-700"
                  ><strong>Lose Weight</strong
                  ><span class="block text-xs text-gray-400"
                    >Burn fat and get leaner</span
                  ></label
                >

                <input
                  type="radio"
                  id="gain_muscle"
                  name="goal"
                  value="gain_muscle"
                />
                <label
                  for="gain_muscle"
                  class="border-2 border-gray-600 rounded-lg p-3 cursor-pointer hover:bg-gray-700"
                  ><strong>Gain Muscle</strong
                  ><span class="block text-xs text-gray-400"
                    >Build mass and strength</span
                  ></label
                >

                <input
                  type="radio"
                  id="improve_fitness"
                  name="goal"
                  value="improve_fitness"
                />
                <label
                  for="improve_fitness"
                  class="border-2 border-gray-600 rounded-lg p-3 cursor-pointer hover:bg-gray-700"
                  ><strong>Improve Fitness</strong
                  ><span class="block text-xs text-gray-400"
                    >General health and endurance</span
                  ></label
                >

                <input
                  type="radio"
                  id="maintain_weight"
                  name="goal"
                  value="maintain_weight"
                />
                <label
                  for="maintain_weight"
                  class="border-2 border-gray-600 rounded-lg p-3 cursor-pointer hover:bg-gray-700"
                  ><strong>Maintain</strong
                  ><span class="block text-xs text-gray-400"
                    >Stay at your current fitness level</span
                  ></label
                >
              </div>
            </div>
          </div>
        </div>

        <!-- Step 3: Workout Schedule -->
        <div id="step-3" class="form-step hidden">
          <h2 class="text-2xl font-semibold mb-6 text-center">
            Workout Preferences
          </h2>
          <div class="space-y-8">
            <div>
              <label
                for="workout_days_per_week"
                class="block mb-3 text-sm font-medium text-gray-300"
                >How many days a week can you work out?</label
              >
              <div class="flex items-center space-x-4">
                <input
                  type="range"
                  id="workout_days_per_week"
                  name="workout_days_per_week"
                  min="1"
                  max="7"
                  value="3"
                  class="w-full h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer"
                />
                <span
                  id="workout-days-output"
                  class="text-neon-400 font-bold text-lg w-8 text-center"
                  >3</span
                >
              </div>
            </div>
            <div>
              <label class="block mb-3 text-sm font-medium text-gray-300"
                >How long are your typical sessions?</label
              >
              <div class="grid grid-cols-2 sm:grid-cols-4 gap-4 custom-radio">
                <input
                  type="radio"
                  id="duration_30"
                  name="workout_duration"
                  value="30 mins"
                  checked=""
                />
                <label
                  for="duration_30"
                  class="text-center border-2 border-gray-600 rounded-lg p-4 cursor-pointer hover:bg-gray-700"
                  >30 min</label
                >

                <input
                  type="radio"
                  id="duration_45"
                  name="workout_duration"
                  value="45 mins"
                />
                <label
                  for="duration_45"
                  class="text-center border-2 border-gray-600 rounded-lg p-4 cursor-pointer hover:bg-gray-700"
                  >45 min</label
                >

                <input
                  type="radio"
                  id="duration_60"
                  name="workout_duration"
                  value="60 mins"
                />
                <label
                  for="duration_60"
                  class="text-center border-2 border-gray-600 rounded-lg p-4 cursor-pointer hover:bg-gray-700"
                  >60 min</label
                >

                <input
                  type="radio"
                  id="duration_90"
                  name="workout_duration"
                  value="90+ mins"
                />
                <label
                  for="duration_90"
                  class="text-center border-2 border-gray-600 rounded-lg p-4 cursor-pointer hover:bg-gray-700"
                  >90+ min</label
                >
              </div>
            </div>
          </div>
        </div>

        <!-- Step 4: Health Conditions -->
        <div id="step-4" class="form-step hidden">
          <h2 class="text-2xl font-semibold mb-6 text-center">
            Health Information
          </h2>
          <div class="space-y-6">
            <div>
              <label
                for="medical_conditions"
                class="block mb-2 text-sm font-medium text-gray-300"
                >Any pre-existing medical conditions? (Optional)</label
              >
              <textarea
                id="medical_conditions"
                name="medical_conditions"
                rows="4"
                 class="bg-gray-700 border border-gray-600 text-white text-sm rounded-lg block w-full p-2.5 input-focus-neon"
                placeholder="e.g., Asthma, High Blood Pressure. Write 'None' if not applicable."
              ></textarea>
            </div>
            <div>
              <label
                for="injuries_or_limitations"
                class="block mb-2 text-sm font-medium text-gray-300"
                >Any injuries or physical limitations? (Optional)</label
              >
              <textarea
                id="injuries_or_limitations"
                name="injuries_or_limitations"
                rows="4"
                 class="bg-gray-700 border border-gray-600 text-white text-sm rounded-lg block w-full p-2.5 input-focus-neon"
                placeholder="e.g., Bad knee, Shoulder pain. Write 'None' if not applicable."
              ></textarea>
            </div>
          </div>
        </div>

        <!-- Step 5: Confirmation -->
        <div id="step-5" class="form-step hidden text-center">
          <h2 class="text-2xl font-semibold mb-4">You're All Set!</h2>
          <p class="text-gray-300 mb-6">
            Click submit to generate your personalized fitness plan.
          </p>
          <svg
            class="w-24 h-24 text-neon-500 mx-auto mb-4"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"
            ></path>
          </svg>
        </div>
      </form>

      <!-- Navigation Buttons -->
      <div class="flex justify-between mt-8">
        <button
          id="prevBtn"
          class="button"
        >
          Previous
        </button>
        <button
          id="nextBtn"
          class="button"
        >
          Next
        </button>
        <button
          id="submitBtn"
          type="submit"
          form="gymForm"
          class="button"
        >
          Submit
        </button>
      </div>
    </div>


  </div>
{% endblock %}
